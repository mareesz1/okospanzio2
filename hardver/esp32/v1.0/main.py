from mfrc522 import MFRC522import utimeimport urequestsimport ujsonprint("main")#ledS = machine.Pin(22, machine.Pin.OUT)ledP = machine.Pin(16, machine.Pin.OUT)ledZ = machine.Pin(17, machine.Pin.OUT)ledP.value(0)ledZ.value(0)#ledS.value(0)s = socket.socket(socket.AF_INET, socket.SOCK_STREAM)s.bind(('', 80))s.listen(5)reader = MFRC522(spi_id=0, sck=18, miso=19, mosi=23, cs=5, rst=21)url = 'http://bgs.jedlik.eu/mm/szakdoga_api/api/reader'def read():    if station.isconnected():        ledS.value(1)        reader.init()        stat, tag_type = reader.request(reader.REQIDL)        if stat == reader.OK:            (stat, uid) = reader.SelectTagSN()            if stat == reader.OK:                import json                card = int.from_bytes(bytes(uid),"little",False)                url_new = 'http://bgs.jedlik.eu/mm/szakdoga_api/api/reader?id=' + str(card)                url_teszt = 'http://79.121.57.252:80/szakdoga_api/api/users'                res = urequests.get(url_new).json()                print(res['id'])                if res['auth'] == 'igen':                    ledZ.value(1)                else:                    ledP.value(1)                utime.sleep_ms(500)    else:        ledS.value(0)        print("Reader operational")#try:#    response = urequests.get(url)#    print(response.json())#except:#    print('No response from' + url)while True:  read()  utime.sleep_ms(100)#  ledS.value(0)  ledZ.value(0)  ledP.value(0)